---
title: "Homework 4"
output: 
  flexdashboard::flex_dashboard:
    orientation: rows
---

```{r setup, include = FALSE}
library(tidyverse)
library(flexdashboard)
library(plotly)
library(p8105.datasets)

insta = p8105.datasets::instacart %>% 
  mutate(order_dow = factor(order_dow))
```

Row
-----------------------------------------------------------------------

### Chart 1

```{r insta-bar }
insta %>% 
  group_by(aisle, aisle_id) %>% 
  summarize(percent_reordered = sum(reordered) / n()) %>% 
  plot_ly(x = ~aisle_id, y = ~percent_reordered, 
          type = "bar", text = ~aisle)
```

Row
-----------------------------------------------------------------------

### Chart 2

```{r insta-line }
insta %>% 
  group_by(order_dow) %>% 
  summarize(num_orders = n()) %>% 
  plot_ly(x = ~order_dow, y = ~num_orders,
          type = "scatter")
```

### Chart 3

```{r insta-box }
insta %>% 
  group_by(order_id, order_dow) %>% 
  summarize(total_cart = max(add_to_cart_order)) %>% 
  plot_ly(x = ~order_dow, y = ~total_cart, 
          type = "box", colors = "Set2")
```